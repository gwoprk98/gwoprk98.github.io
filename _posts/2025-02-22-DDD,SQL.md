---
title: "[OOP] DDD 설계"
excerpt: "DDD설계에 대해 알아보고 정리하기"

categories: # 카테고리 설정
  - CS
tags: # 포스트 태그
  - [tag1, tag2]

permalink: /CS/DDD/ # 포스트 URL

toc: false # 우측에 본문 목차 네비게이션 생성
toc_sticky: false # 본문 목차 네비게이션 고정 여부

date: 2025-02-22 # 작성 날짜
last_modified_at: 2025-02-22 # 최종 수정 날짜
---

도메인 주도 설계(DDD, Domain-Driven Design)은 소프트웨어 개발 방법론중 하나로, 비즈니스 도메인을 중심으로 시스템을 설계하고 구현하는 방식이다.

복잡한 비즈니스 로직을 효과적으로 반영하고, 유지보수성과 확장성을 높이는데 탁월한 장점이 존재한다.

## DDD의 주요 개념

1. 도메인
- 소프트웨어가 해결하려는 특정 문제 영역이나 비즈니스 컨텍스트를 의미한다. 예를 들어, 인터넷 쇼핑몰을 구현한다고 할 때 '상품 관리', '주문 처리', '결제'등이 각각의 도메인이 될 수있다.
2. 유비쿼터스 언어
- 개발자와 도메인 전문가가 공통적으로 이해할 수 있는 언어를 정의하고, 이를 기반으로 의사소통 한다.
- 코드와 설계에 그대로 반영되어 혼란을 줄이고 도메인을 효과적으로 설계하고 이해하는데 도움이 될 수 있다.
3. 바운디드 컨텍스트
- 하나의 도메인을 여러 개의 컨텍스트로 구분하여 각 컨텍스트의 경계를 명확히 한다.
- 각 컨텍스트는 독립적으로 설계 및 구현되며, 이를 통해 시스템 간 충돌을 방해하고 모듈화를 강화한다. 즉, 모듈간의 결합도는 낮추고 응집도를 높일 수 있다.
4. 도메인 모델
- 도메인의 개념, 규칙, 데이터를 추상화한 모델이다. 시스템의 핵심 구조와 비즈니스 로직을 정의한다.
- 주요 구성 요소로는 엔티티(Entity), 값 객체(Value Object), 애그리거트(Aggregate), 서비스(Service), 리포지토리(Repository)가 존재한다.

## DDD의 설계 원칙
1. 느슨한 결합과 높은 응집
- 도메인 간에는 느슨한 결합을 유지하여 의존성을 최소화한다.
- 도메인 내부에서는 높은 응집을 통해 관련 데이터와 로직을 함께 묶어야한다.
2. 모델 주도 설계
- 도메인 모델을 중심으로 분석, 설계, 구현을 통합하여 코드와 설계간의 간극을 최소화 하여야 한다.
- 리팩토링과 같은 방법을 통해 모델과 코드가 일치하도록 유지하여야 한다.

## DDD의 레이어드 아키텍처

애플리케이션을 프레젠테이션(Presentation), 애플리케이션(Application), 도메인(Domain), 인프라스트럭처(Infrastructure)라는 네 가지 주요 계층으로 나누어 설계하는 방법론이다. 이 접근법은 **관심사의 분리(Separation of Concerns)**를 통해 코드의 모듈화와 유지보수성을 높이고, 도메인 모델의 순수성을 유지하는 데 중점을 두고 있다.

![ddd](/assets/images/posts_img/DDD.png)

1. 프레젠테이션 계층 (Presentation Layer) - 컨트롤러
  - 사용자와 상호작용하며 데이터를 표시하고 사용자 입력을 수집한다.
  - UI 요소(웹 페이지, 모바일 앱, API 엔드포인트 등)를 포함.
  - 도메인 로직이 포함되지 않고, 입력 데이터를 애플리케이션 계층으로 전달.
  - 예시: React, Angular와 같은 프론트엔드 프레임워크 또는 REST API 컨트롤러.
2. 애플리케이션 계층 (Application Layer) - 서비스
  - 비즈니스 흐름을 조정하고 도메인 계층과 외부 시스템 간의 중재자 역할을 한다.
  - 도메인 로직은 포함하지 않으며, 작업의 흐름(워크플로우)만 관리.
  - 트랜잭션 관리 및 외부 API 호출 담당.
  - 예시: 서비스 클래스, 유스케이스 구현.
3. 도메인 계층 (Domain Layer) - 모델
  - 시스템의 핵심 비즈니스 로직과 규칙을 정의한다.
  - 엔티티(Entity), 값 객체(Value Object), 애그리거트(Aggregate), 도메인 서비스(Domain Service) 등이 포함.
  - 외부 기술 세부사항에 의존하지 않아야 하며, 독립적이고 순수하게 설계.
  - 예시: 주문 처리 로직, 재고 관리 규칙 등.
4. 인프라스트럭처 계층 (Infrastructure Layer) - 리포지토리
  - 데이터베이스, 메시징 시스템, 외부 API 등 기술적인 세부사항을 처리한다.
  - 리포지토리(Repository), 데이터 접근 객체(DAO), 파일 저장소 등이 포함.
  - 도메인 계층에서 정의한 인터페이스를 구현하여 기술적 의존성을 캡슐화.  
  - 예시: JPA/Hibernate를 사용한 데이터베이스 연결.

레이어드 아키텍처에서는 각 계층이 하위 계층에만 의존하며, 상위 계층으로 의존성이 흐르지 않는다. 이를 통해 각 계층이 독립적으로 변경될 수 있으며, 시스템의 복잡성을 줄일 수 있다.


> 출처
> - https://ddd-practitioners.com/home/glossary/layered-architecture/
> - https://www.kranio.io/en/blog/de-bueno-a-excelente-en-ddd-comprender-el-patron-de-arquitectura-sugerida-en-domain-driven-design---7-10
> - https://www.baeldung.com/cs/layered-architecture
> - https://youwjune.tistory.com/38
