---
title: "[C++] Set"
excerpt: "C++ STL Set"

categories: # 카테고리 설정
  - C++
tags: # 포스트 태그
  - [tag1, tag2]

permalink: /C++/Set/ # 포스트 URL

toc: true # 우측에 본문 목차 네비게이션 생성
toc_sticky: true # 본문 목차 네비게이션 고정 여부

date: 2025-02-19 # 작성 날짜
last_modified_at: 2025-02-19 # 최종 수정 날짜
---

## Set

### Set의 특성
- 중복을 허용하지 않는 순서가 없는 집합이다.
- 원소가 자동으로 정렬된다(내부에 균형이진트리 알고리즘)
- 삽입/삭제/탐색에 `O(log N)`의 시간이 소요
- 중복을 허용하지 않거나 원소를 삽입과 동시에 정렬해야 하는 경우 효율적이다.
- 정렬이 필요하지 않은 경우 사용하지 않는것이 좋다.

### set 예제 코드
```c++
#include <iostream>
#include <set>
#include <vector>
#include <algorithm>

int main() {
    // 초기화
    std::set<int> s;

    // insert: 원소 삽입
    // 시간복잡도: O(log N)
    s.insert(10);  // {10}
    s.insert(20);  // {10, 20}
    s.insert(10);  // {10, 20} (중복된 값은 삽입되지 않음)

    // find: 원소 탐색
    // 시간복잡도: O(log N)
    auto it = s.find(10); // 10을 가리키는 반복자 반환
    if (it != s.end()) {
        std::cout << "Found: " << *it << std::endl; // 출력: Found: 10
    } else {
        std::cout << "Not Found" << std::endl;
    }

    // erase: 원소 삭제
    // 시간복잡도: O(log N)
    s.erase(10); // {20}

    // find 메서드를 사용하여 삭제된 원소를 찾으려 하면
    it = s.find(10);
    if (it != s.end()) {
        std::cout << "Found: " << *it << std::endl;
    } else {
        std::cout << "Not Found" << std::endl; // 출력: Not Found
    }
}
```

### set을 사용해야 하는 경우
1. 중복을 허용하지 않는 경우
    - 유일한 사용자 id를 저장해야 하는 경우가 이에 해당한다.
```c++
 std::set<int> uniqueIds;
    uniqueIds.insert(1);
    uniqueIds.insert(2);
    uniqueIds.insert(1); // 중복 삽입 무시
    for (int id : uniqueIds) {
        std::cout << "User ID: " << id << std::endl; // 출력: User ID: 1, User ID: 2
    }
```
2. 정렬된 순서가 필요한 경우
```c++
std::set<int> sortedData;
    sortedData.insert(5);
    sortedData.insert(1);
    sortedData.insert(3);
    for (int val : sortedData) {
        std::cout << "Sorted Value: " << val << std::endl; // 출력: Sorted Value: 1, 3, 5
    }
```
3. 탐색, 삽입, 삭제의 성능이 중요한 경우
    - 데이터의 존재 여부를 빈번히 검사해야하는 경우가 이에 해당한다.
```c++
 std::set<int> dataSet;
    dataSet.insert(15);
    if (dataSet.find(15) != dataSet.end()) {
        std::cout << "15 is in the set" << std::endl;
    }
```

이와 반대로 set을 사용하지 말아야 하는 경우는 다음과 같다.
1. 중복된 원소를 허용해야하는 경우
2. 정렬이 필요없는 경우
3. 비넌한 삽입과 삭제가 필요한 경우